(function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e=function(){function i(){var e,t,n;e={},n=function(t,n){if(typeof t=="string"&&typeof n=="function")return e[t]=n},t=function(t){if(typeof e[t]=="function")return e[t](arguments[1],arguments[2],arguments[3])},this._={xhr:null,cors:null,xhrType:"form",doCallbackFor:t,setCallbackFor:n}}var e,n,r;return i.readyState=0,i.status=null,r=function(){var e;return e=document.createElement("a"),function(t){return e.href=t,{host:e.host,hostname:e.hostname,pathname:e.pathname,port:e.port,protocol:e.protocol,search:e.search,hash:e.hash}}}(),n=function(e){return!(e.ownerDocument instanceof Object)&&!(e instanceof Date)&&!(e instanceof RegExp)&&!(e instanceof Function)&&!(e instanceof String)&&!(e instanceof Boolean)&&!(e instanceof Number)&&e instanceof Object},e=function(e){var t;return t=document.createElement("script"),t.type="text/javascript",t.src=e,document.body.appendChild(t)},i.prototype.jpcb=function(){},i.prototype.createXhrObject=function(){var e,n;n=[200,201,204,304],this._.cors=!1;if(window.XDomainRequest)this._.xhr=new XDomainRequest,this._.cors=!0;else if(window.XMLHttpRequest)this._.xhr=new XMLHttpRequest,"withCredentials"in this._.xhr&&(this._.cors=!0);else if(window.ActiveXObject)try{this._.xhr=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(r){throw this._.xhr=null,Error(r)}return e=this,this._.xhr.onreadystatechange=function(){var r;e.readyState=e._.xhr.readyState,e._.doCallbackFor("readystatechange",e._.xhr);switch(e._.xhr.readyState){case 0:case 1:return e._.doCallbackFor("loadstart",e._.xhr);case 2:return e._.doCallbackFor("progress",e._.xhr);case 3:return e._.doCallbackFor("onload",e._.xhr);case 4:try{(r=e._.xhr.status,t.call(n,r)>=0)?e._.doCallbackFor("success",e._.xhr.responseText,e._.xhr.status,e._.xhr):e._.doCallbackFor("error",e._.xhr.responseText,e._.xhr.status,e._.xhr)}catch(i){throw Error(i)}return e._.doCallbackFor("loadend",e._.xhr.responseText,e._.xhr.status,e._.xhr),e._.xhr=null;default:throw Error("Unsupported readystate ("+e._.xhr.readyState+") received.")}},this._.xhr.ontimeout=function(){return e._.doCallbackFor("timeout",e._.xhr)},this._.xhr.onabort=function(){return e._.doCallbackFor("abort",e._.xhr)},this._.xhr},i.prototype._doAjaxCall=function(t,n,i){var s,o,u,a,f;n==null&&(n="GET"),i==null&&(i=null);if(t===void 0)throw Error("URL required");o=window.location,a=r(t),f=this.createXhrObject(),u=function(e){var t;e==null&&(e="form"),t="application/x-www-form-urlencoded";switch(e.toLowerCase()){case"html":t="text/html";break;case"json":t="application/json";break;case"jsonp":t="application/javascript";break;case"xml":t="application/xml";break;default:t="application/x-www-form-urlencoded"}return t},a.host===o.host&&a.protocol===o.protocol&&a.port===o.port?s=!1:s=!0;if(s===!1||this._.cors===!0){f.open(n,t,!0),this._.cors&&f.setRequestHeader("X-Requested-With","XMLHttpRequest");if(i){if(typeof i=="string"&&window.JSON)try{i=JSON.parse(i),this.setType("json")}catch(l){}this._.xhrType==="json"&&typeof i=="object"&&window.JSON?(i=JSON.stringify(i),this.setType("json")):typeof i!="string"&&(f.setRequestHeader("Content-Type",u("form")),i=this.serialize(i),this.setType("form"))}return f.setRequestHeader("Content-Type",u(this._.xhrType)),f.send(i)}throw i=this.serialize(i),e(""+i+"&callback="),Error("crossDomain Error")},i.prototype.serialize=function(e,t,r){var i,s,o;r==null&&(r="");if(!n(e))return r+encodeURIComponent(e);s="",o="";for(i in e){if(!e.hasOwnProperty(i))continue;o=t?t+"["+encodeURIComponent(i)+"]":encodeURIComponent(i),s+=this.serialize(e[i],o,"&"+o+"=")}return s.substring(1)},i.prototype.setType=function(e){var n;n=["form","html","json","jsonp","xml"],e=e.toLowerCase();if(t.call(n,e)<0)throw Error("Unsupported type ("+e+")");return this._.xhrType=e},i.prototype.cors=function(){return this._.cors===null&&this.createXhrObject(),this._.cors},i.prototype.abort=function(){try{this._.xhr.abort(),this._.xhr.onreadystatechange=function(){},this.readyState=0}catch(e){}return this.ononabort(),this},i.prototype.call=function(e,t,n){return this._doAjaxCall(e,t,n),this},i.prototype.head=function(e){return this._doAjaxCall(e,"HEAD"),this},i.prototype.options=function(e){return this._doAjaxCall(e,"OPTIONS"),this},i.prototype.get=function(e){return this._doAjaxCall(e,"GET"),this},i.prototype.put=function(e,t){return this._doAjaxCall(e,"PUT",t),this},i.prototype.post=function(e,t){return this._doAjaxCall(e,"POST",t),this},i.prototype["delete"]=function(e){return this._doAjaxCall(e,"DELETE"),this},i.prototype.jsonp=function(t){return e(t),this},i.prototype.onreadystatechange=function(e){return this._.setCallbackFor("readystatechange",e),this},i.prototype.onloadstart=function(e){return this._.setCallbackFor("loadstart",e),this},i.prototype.onprogress=function(e){return this._.setCallbackFor("progress",e),this},i.prototype.onload=function(e){return this._.setCallbackFor("load",e),this},i.prototype.onerror=function(e){return this._.setCallbackFor("error",e),this},i.prototype.onsuccess=function(e){return this._.setCallbackFor("success",e),this},i.prototype.onloadend=function(e){return this._.setCallbackFor("loadend",e),this},i.prototype.ontimeout=function(e){return this._.setCallbackFor("timeout",e),this},i.prototype.onabort=function(e){return this._.setCallbackFor("abort",e),this},i}(),window.Xhr=e}).call(this);