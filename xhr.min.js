(function(e){var t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},n,r,i,s,o,u,a;return u=null,a="form",i=null,r={},o=function(e,t){if(typeof e=="string"&&typeof t=="function")return r[e]=t},s=function(e){if(typeof r[e]=="function")return r[e](arguments[1],arguments[2],arguments[3])},n=function(){function r(){}var n;return r.readyState=0,r.status=null,n=function(){},r.prototype.createXhrObject=function(){var n,r;r=[200,201,204,304],i=!1;if(e.XDomainRequest)u=new XDomainRequest,i=!0;else if(e.XMLHttpRequest)u=new XMLHttpRequest,"withCredentials"in u&&(i=!0);else if(e.ActiveXObject)try{u=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(o){throw u=null,Error(o)}return n=this,u.onreadystatechange=function(){var e;n.readyState=u.readyState,s("readystatechange",u);switch(u.readyState){case 0:case 1:return s("loadstart",u);case 2:return s("progress",u);case 3:return s("onload",u);case 4:try{(e=u.status,t.call(r,e)>=0)?s("success",u.responseText,u.status,u):s("error",u.responseText,u.status,u)}catch(i){throw Error(i)}return s("loadend",u.responseText,u.status,u),u=null;default:throw Error("Unsupported readystate ("+u.readyState+") received.")}},u.ontimeout=function(){return s("timeout",u)},u.onabort=function(){return s("abort",u)},u},r.prototype._doAjaxCall=function(t,n,r){var s,o,u,f,l,c;n==null&&(n="GET"),r==null&&(r=null);if(t===void 0)throw Error("URL required");o=e.location,c=function(){var e;return e=document.createElement("a"),function(t){return e.href=t,{host:e.host,hostname:e.hostname,pathname:e.pathname,port:e.port,protocol:e.protocol,search:e.search,hash:e.hash}}}(),f=c(t),l=this.createXhrObject(),u=function(e){var t;e==null&&(e="form"),t="application/x-www-form-urlencoded";switch(e.toLowerCase()){case"html":t="text/html";break;case"json":t="application/json";break;case"jsonp":t="application/javascript";break;case"xml":t="application/xml";break;default:t="application/x-www-form-urlencoded"}return t},f.host===o.host&&f.protocol===o.protocol&&f.port===o.port?s=!1:s=!0;if(s===!1||i===!0){l.open(n,t,!0),i&&l.setRequestHeader("X-Requested-With","XMLHttpRequest");if(r){if(typeof r=="string"&&e.JSON)try{r=JSON.parse(r),this.setType("json")}catch(h){}a==="json"&&typeof r=="object"&&e.JSON?(r=JSON.stringify(r),this.setType("json")):typeof r!="string"&&(l.setRequestHeader("Content-Type",u("form")),r=this.serialize(r),this.setType("form"))}return l.setRequestHeader("Content-Type",u(a)),l.send(r)}throw r=this.serialize(r),_doJsonP(""+r+"&callback="),Error("crossDomain Error")},r.prototype._doJsonP=function(e){var t;return this.setType("jsonp"),t=document.createElement("script"),t.type="text/javascript",t.src=e,document.body.appendChild(t)},r.prototype.serialize=function(e,t,n){var r,i,s,o;n==null&&(n=""),o=function(e){return!(e.ownerDocument instanceof Object)&&!(e instanceof Date)&&!(e instanceof RegExp)&&!(e instanceof Function)&&!(e instanceof String)&&!(e instanceof Boolean)&&!(e instanceof Number)&&e instanceof Object};if(!o(e))return n+encodeURIComponent(e);i="",s="";for(r in e){if(!e.hasOwnProperty(r))continue;s=t?t+"["+encodeURIComponent(r)+"]":encodeURIComponent(r),i+=this.serialize(e[r],s,"&"+s+"=")}return i.substring(1)},r.prototype.setType=function(e){var n;n=["form","html","json","jsonp","xml"],e=e.toLowerCase();if(t.call(n,e)<0)throw Error("Unsupported type ("+e+")");return a=e},r.prototype.cors=function(){return i===null&&this.createXhrObject(),i},r.prototype.abort=function(){try{u.abort(),u.onreadystatechange=function(){},this.readyState=0}catch(e){}return this.ononabort(),this},r.prototype.call=function(e,t,n){return this._doAjaxCall(e,t,n),this},r.prototype.head=function(e){return this._doAjaxCall(e,"HEAD"),this},r.prototype.options=function(e){return this._doAjaxCall(e,"OPTIONS"),this},r.prototype.get=function(e){return this._doAjaxCall(e,"GET"),this},r.prototype.put=function(e,t){return this._doAjaxCall(e,"PUT",t),this},r.prototype.post=function(e,t){return this._doAjaxCall(e,"POST",t),this},r.prototype["delete"]=function(e){return this._doAjaxCall(e,"DELETE"),this},r.prototype.jsonp=function(e){return this._doJsonP(e),this},r.prototype.onreadystatechange=function(e){return o("readystatechange",e),this},r.prototype.onloadstart=function(e){return o("loadstart",e),this},r.prototype.onprogress=function(e){return o("progress",e),this},r.prototype.onload=function(e){return o("load",e),this},r.prototype.onerror=function(e){return o("error",e),this},r.prototype.onsuccess=function(e){return o("success",e),this},r.prototype.onloadend=function(e){return o("loadend",e),this},r.prototype.ontimeout=function(e){return o("timeout",e),this},r.prototype.onabort=function(e){return o("abort",e),this},r}(),e.Xhr=n})(window);